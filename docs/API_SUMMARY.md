# –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ API –¥–ª—è AI –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫:
```
Authorization: Bearer {user_id}
```

---

## üìã –û—Å–Ω–æ–≤–Ω—ã–µ Endpoints

### 1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**POST** `/api/assessments`

**Request:**
```json
{
  "direction": "backend(golang, sql)"
}
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- `direction` - —Ç–µ–∫—Å—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä "backend(golang, sql)", "frontend(react, typescript)")
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ GPT
- –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è assessment –∏ roadmap

**Response:**
```json
{
  "assessment_id": "uuid",
  "competencies": [...],
  "status": "in_progress"
}
```

---

### 2. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏)
**POST** `/api/questions/generate`

**Request (Form Data):**
```
assessment_id: UUID
competency_id: UUID
question_number: int (1-7)
difficulty?: int (1-5, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

**Response:**
```json
{
  "questionId": "uuid",
  "questionText": "–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞",
  "difficulty": 3,
  "estimatedAnswerTime": "1-2 –º–∏–Ω—É—Ç—ã",
  "expectedKeyPoints": [...]
}
```

**–í–∞–∂–Ω–æ:** –í–æ–ø—Ä–æ—Å **–ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è** –≤ –ë–î –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤.

---

### 3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥–æ–ª–æ—Å–æ–≤–æ–π –æ—Ç–≤–µ—Ç
**POST** `/api/questions/answer`

**Request (Form Data):**
```
assessment_id: UUID
competency_id: UUID
question_text: string
difficulty: int (1-5)
audio: File (webm, mp3, wav, m4a, ogg)
```

**–í–∞–∂–Ω–æ:** –í–æ–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î **—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞**.

**Response:**
```json
{
  "transcript": "–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –∞—É–¥–∏–æ",
  "evaluation": {
    "score": 4,
    "understandingDepth": "deep",
    "isCorrect": true,
    "feedback": "–û—Ç–ª–∏—á–Ω—ã–π –æ—Ç–≤–µ—Ç...",
    "knowledgeGaps": [],
    "nextDifficulty": 4
  }
}
```

---

### 4. –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**POST** `/api/assessments/{assessment_id}/complete`

**Response:**
```json
{
  "message": "Assessment completed",
  "assessment": {
    "id": "uuid",
    "status": "completed",
    "overall_score": 4.2
  }
}
```

---

### 5. –ü–æ–ª—É—á–∏—Ç—å Roadmap
**GET** `/api/roadmaps/{assessment_id}`

**Response:**
```json
{
  "id": "uuid",
  "title": "–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π roadmap",
  "sections": [...],
  ...
}
```

---

## üîÑ –¢–∏–ø–∏—á–Ω—ã–π Flow

1. **–°–æ–∑–¥–∞—Ç—å assessment** ‚Üí `POST /api/assessments`
2. **–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å** ‚Üí `POST /api/questions/generate` (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏, –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤)
3. **–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç** ‚Üí `POST /api/questions/answer` (–≤–æ–ø—Ä–æ—Å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞)
4. **–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —à–∞–≥–∏ 2-3** –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ (–∫–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ —É—Ä–æ–≤–µ–Ω—å)
5. **–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí `POST /api/assessments/{id}/complete`
6. **–ü–æ–ª—É—á–∏—Ç—å roadmap** ‚Üí `GET /api/roadmaps/{assessment_id}`

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ UUID –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ —Å—Ç—Ä–æ–∫–∏
- –ê—É–¥–∏–æ —Ñ–∞–π–ª—ã: –º–∞–∫—Å–∏–º—É–º 25MB, —Ñ–æ—Ä–º–∞—Ç—ã: webm, mp3, wav, m4a, ogg
- **–í–æ–ø—Ä–æ—Å—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏** —á–µ—Ä–µ–∑ GPT-4 –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤
- **–í–æ–ø—Ä–æ—Å—ã –ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –≤ –ë–î –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞
- –ö–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ —É—Ä–æ–≤–µ–Ω—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π roadmap

---

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [FRONTEND_API_INTEGRATION.md](./FRONTEND_API_INTEGRATION.md)
